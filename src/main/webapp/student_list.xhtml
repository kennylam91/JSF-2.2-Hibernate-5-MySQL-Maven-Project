<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<style type="text/css">
.left {
	text-align: left;
}

.right {
	text-align: right;
}
</style>
	<title>Student List</title>
</h:head>
<h:body>
	<h3>Student List</h3>
	<!-- <h:form id="form"> -->
	<p:dataTable value="#{studentController.studentDtos}" var="student"
		id="student_list_table">

		<f:facet name="header">
			<div class="ui-g">
				<div class="ui-g-2 left">
					<h:form id="create_student">
						<p:commandButton value="New Student" id="new_student"
							action="#{studentController.getCreateForm}"
							style="margin-right:20px;display:inline;"
							onkeypress="if( event.keyCode == 13){event.keyCode=0;}" />
					</h:form>
				</div>

				<div class="ui-g-6">
					<h:form>
						<h:outputText value="Rows:" />
						<p:selectOneMenu id="rowsperpage"
							value="#{studentController.pagination.rowsperpage}">
							<p:ajax event="valueChange"
								listener="#{studentController.onPaginationChange}"
								update="student_list_table" />
							<f:selectItem itemLabel="5" itemValue="5" />
							<f:selectItem itemLabel="10" itemValue="10" />
							<f:selectItem itemLabel="20" itemValue="20" />
						</p:selectOneMenu>

						<h:outputText value="Page:" />
						<p:inputText id="page" maxlength="3" size="3"
							value="#{studentController.pagination.page}">
							<p:ajax event="keyup"
								listener="#{studentController.onPaginationChange}"
								update="student_list_table" />
						</p:inputText>

						<h:outputText value="Ordered by:" />
						<p:selectOneMenu id="ordered_by"
							value="#{studentController.pagination.orderBy}">
							<p:ajax event="valueChange"
								listener="#{studentController.onPaginationChange}"
								update="student_list_table" />
							<f:selectItem itemLabel="code" itemValue="code" />
							<f:selectItem itemLabel="firstName" itemValue="firstName" />
							<f:selectItem itemLabel="lastName" itemValue="lastName" />
							<f:selectItem itemLabel="field" itemValue="field" />
							<f:selectItem itemLabel="dob" itemValue="dob" />
							<f:selectItem itemLabel="phone" itemValue="phone" />
							<f:selectItem itemLabel="email" itemValue="email" />
							<f:selectItem itemLabel="avgScore" itemValue="avgScore" />
							<f:selectItem itemLabel="note" itemValue="note" />
						</p:selectOneMenu>

						<p:selectOneMenu id="asc_or_desc"
							value="#{studentController.pagination.ascOrDesc}">
							<p:ajax event="valueChange"
								listener="#{studentController.onPaginationChange}"
								update="student_list_table" />
							<f:selectItem itemLabel="asc" itemValue="asc" />
							<f:selectItem itemLabel="desc" itemValue="desc" />
						</p:selectOneMenu>
					</h:form>
				</div>


				<div class="ui-g-4 right">
					<h:form id="search">
						<p:outputPanel>
							<h:outputText value="Search by" />
							<p:selectOneMenu id="search_field"
								value="#{studentController.pagination.searchField}">
								<p:ajax event="valueChange"
									listener="#{studentController.onPaginationChange}"
									update="student_list_table" />
								<f:selectItem itemLabel="code" itemValue="code" />
								<f:selectItem itemLabel="firstName" itemValue="firstName" />
								<f:selectItem itemLabel="lastName" itemValue="lastName" />
								<f:selectItem itemLabel="field" itemValue="field" />
								<f:selectItem itemLabel="dob" itemValue="dob" />
								<f:selectItem itemLabel="phone" itemValue="phone" />
								<f:selectItem itemLabel="email" itemValue="email" />
								<f:selectItem itemLabel="avgScore" itemValue="avgScore" />
								<f:selectItem itemLabel="note" itemValue="note" />
							</p:selectOneMenu>
							<p:inputText id="search_keyword" onkeyup="" style="width:150px"
								value="#{studentController.pagination.searchKeyword}"
								placeholder="Enter keyword">
								<p:ajax event="keyup"
									listener="#{studentController.onPaginationChange}"
									update="student_list_table" />
							</p:inputText>
						</p:outputPanel>
					</h:form>
				</div>
			</div>

		</f:facet>

		<p:column headerText="code">
			<h:outputText value="#{student.code}" />
		</p:column>
		<p:column headerText="Firstname">
			<h:outputText value="#{student.firstName}" />
		</p:column>
		<p:column headerText="Lastname">
			<h:outputText value="#{student.lastName}" />
		</p:column>
		<p:column headerText="Field">
			<h:outputText value="#{student.field}" />
		</p:column>
		<p:column headerText="DOB">
			<h:outputText value="#{student.DOB}" />
		</p:column>
		<p:column headerText="Phone">
			<h:outputText value="#{student.phone}" />
		</p:column>
		<p:column headerText="Email">
			<h:outputText value="#{student.email}" />
		</p:column>
		<p:column headerText="Avg Score">
			<h:outputText value="#{student.avgScore}" />
		</p:column>
		<p:column headerText="Note">
			<h:outputText value="#{student.note}" />
		</p:column>

		<p:column headerText="Action">
			<h:form>

				<h:commandButton value="Detail" id="detail_button"
					action="#{studentController.getStudentDetail(student.id)}">
				</h:commandButton>
				<h:commandButton value="Del" id="delete_button"
					action="#{studentController.deleteStudent(student.id)}">
				</h:commandButton>
			</h:form>
		</p:column>
	</p:dataTable>
	<!-- </h:form> -->
</h:body>
</html>
